Vensan Cabardo
2-15-2019
CS370
Lab 4 - Symbol Table with YACC

Overview:
In the LEX file for this project, VARIABLE is returned as a token when a string of any length is encountered, not just a single character. This was done by altering regular expression defining a variable. strdup is used to avoid variable names being overwritten by the characters following the variable in the character stream. In the YACC file, an array called regs is used to store the values of the variables declared in the input. There is a variable called MAX that is used to ensure that the user can only declare up to MAX variables. The Context Free Grammar of the original calculator was extended to include production rules that made it possible for variable declarations to be a part of the grammar. Additionally, the YACC file has a %union type that makes it possible for LEX to return both integers and strings. The INTEGER token was defined to be returned as an int and the VARIABLE token was defined to be returned as a string. It was also necessary to include semantic directives in YACC to ensure that the contents of a text file are semantically correct. These directives interact with the symbol table to ensure that no duplicate variable can be declared, and that variables have been declared before they are used. In the symbol table code, the structure was modifed so that there are two fields instead of three: one for name and one for offset. Insert was also modified - parameters were added so that YACC could directly insert the variable name and the offset. The Search method of the previous calculator was altered from the original to return -1 if the entry does not exist, and the offset if it does. It is named Search, but the method has the functionality of FetchAddress. 
